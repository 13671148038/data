upstream mysvr {
	ip_hash;
?      fair;    
        server 127.0.0.1:8080 weigth=10;
	 }

ip_hash; 

上面的2种方式都有一个问题，那就是下一个请求来的时候请求可能分发到另外一个服务器，当我们的程序不是无状态的时候（采用了session保存数据）
这时候就有一个很大的很问题了，比如把登录信息保存到了session中，
那么跳转到另外一台服务器的时候就需要重新登录了，所以很多时候我们需要一个客户只访问一个服务器，
那么就需要用iphash了，iphash的每个请求按访问ip的hash结果分配，这样每个访客固定访问一个后端服务器，可以解决session的问题

 fair;
按后端服务器的响应时间来分配请求，响应时间短的优先分配。